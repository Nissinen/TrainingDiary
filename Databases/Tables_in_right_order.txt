create table liike(

  Avain int NOT NULL AUTO_INCREMENT,
  Maastaveto int(3) null,
  Penkki int(3) null,
  Kyykky int(3) null,
  
  constraint PK_liike_Avain primary key (avain)
);

create table henkilo(

  Avain int NOT NULL AUTO_INCREMENT,
  Tunniste varchar(20) not null,
  Etunimet varchar(100) not null,
  Sukunimi varchar(50) not null,
  Sahkoposti varchar(50) not null,
  Ika int(2) not null,
  Puhelinnumero varchar(20) not null,
  
  constraint PK_henkilo_Avain primary key (avain),
  constraint UQ_henkilo_Tunniste unique (tunniste),
  constraint UQ_henkilo_Sahkoposti unique (sahkoposti)
);

create table sarjat(

  Avain int NOT NULL AUTO_INCREMENT,
  Sarja int(2) not null,
  Toistomaara int(2) not null,
  
  constraint PK_sarjat_Avain primary key (avain)
);

create table treeni(

  Avain int NOT NULL AUTO_INCREMENT,
  
  constraint PK_treeni_Avain primary key (avain)
);

create table paino(

Avain int NOT NULL AUTO_INCREMENT,
Massa int(3), not null,
  
 constraint PK_paino_Avain primary key (avain)
);

create table liiketyyppi(

  Avain int NOT NULL AUTO_INCREMENT,
  
  constraint PK_liiketyyppi_Avain primary key (avain)
);

create table sarjatyyppi(

Avain int NOT NULL AUTO_INCREMENT,
  
 constraint PK_sarjatyyppi_Avain primary key (avain)
);

create table treenityyppi(

Avain int NOT NULL AUTO_INCREMENT,
Tunniste varchar(20) not null,
  
 constraint PK_treenityyppi_Avain primary key (avain),
 constraint UQ_treenityyppi_Tunniste unique (tunniste)
);

create table liike_sarja_tyyppi
(
  Avain int NOT NULL AUTO_INCREMENT,
  Liike_Avain int not null,
  Sarja_Avain int not null,
  Tyyppi_Avain int not null,
  
  constraint PK_liike_sarja_tyyppi_Avain primary key (Avain),
  
  constraint UQ_liike_sarja_tyyppi_Liike_Sarja_Tyyppi unique 
    (Liike_Avain, Sarja_Avain, Tyyppi_Avain),
  
  constraint FK_liike_sarja_tyyppi_Liike_Avain
    foreign key (Liike_Avain) references liike(Avain),
  
  constraint FK_liike_sarja_tyyppi_Sarja_Avain
    foreign key (Sarja_Avain) references sarjat(Avain),
  
  constraint FK_liike_sarja_tyyppi_Tyyppi_Avain
    foreign key (Tyyppi_Avain) references sarjatyyppi(Avain)
);

create table henkilo_treeni_tyyppi
(
  Avain int NOT NULL AUTO_INCREMENT,
  Henkilo_Avain int not null,
  Treeni_Avain int not null,
  Tyyppi_Avain int not null,
  
  constraint PK_henkilo_treeni_tyyppi_Avain primary key (Avain),
  
  constraint UQ_henkilo_treeni_tyyppi_Henkilo_Treeni_Tyyppi unique 
    (Henkilo_Avain, Treeni_Avain, Tyyppi_Avain),
  
  constraint FK_henkilo_treeni_tyyppi_Henkilo_Avain
    foreign key (Henkilo_Avain) references henkilo(Avain),
  
  constraint FK_henkilo_treeni_tyyppi_treeni_Avain
    foreign key (treeni_Avain) references treeni(Avain),
  
  constraint FK_henkilo_treeni_tyyppi_Tyyppi_Avain
    foreign key (Tyyppi_Avain) references treenityyppi(Avain)
);

create table treeni_liike_tyyppi
(
  Avain int NOT NULL AUTO_INCREMENT,
  Liike_Avain int not null,
  Treeni_Avain int not null,
  Tyyppi_Avain int not null,
  
  constraint PK_treeni_liike_tyyppi_Avain primary key (Avain),
  
  constraint UQ_treeni_liike_tyyppi_Treeni_Liike_Tyyppi unique 
    (Liike_Avain, Treeni_Avain, Tyyppi_Avain),
  
  constraint FK_treeni_liike_tyyppi_Liike_Avain
    foreign key (Liike_Avain) references liike(Avain),
  
  constraint FK_treeni_liike_tyyppi_treeni_Avain
    foreign key (treeni_Avain) references treeni(Avain),
  
  constraint FK_treeni_liike_tyyppi_Tyyppi_Avain
    foreign key (Tyyppi_Avain) references treenityyppi(Avain)
);